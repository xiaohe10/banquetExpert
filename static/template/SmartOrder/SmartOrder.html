<!--主页/智能订餐台/智能订餐台-->
<div class="panel panel-default">
    <div class="panel-heading">
        <div class="panel-title">
            智能订餐台
        </div>
    </div>
    <div class="panel-body">
        <!--餐段日期选择-->
        <div class="navbar">
            <div class="navbar-inner">
                <div class="nav">
                    <label class="brand">
                        <strong>{{form.date|date:'yyyy'}}</strong>年
                        <strong>{{form.date|date:'MM'}}</strong>月
                        <input type="date" ng-model="form.date"/>
                    </label>
                    <label><input class="btn btn-primary btn-sm" type="radio" value=0 ng-model="form.dinner_period">午餐</label>
                    <label><input class="btn btn-primary btn-sm" type="radio" value=1 ng-model="form.dinner_period">晚餐</label>
                    <label><input class="btn btn-primary btn-sm" type="radio" value=2 ng-model="form.dinner_period">夜宵</label>
                    <!--<input class="btn btn-secondary btn-sm" type="button" ng-repeat="x in weekdays" value="{{x}}"/>-->
                </div>
            </div>
        </div>
        <!--主面板-->
        <div class="container">
            <div class="row">
                <!--餐位列表-->
                <div class="col-lg-4" style="height: 60%">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab">
                            预订台
                        </div>
                        <div class="panel-body" role="tabpanel">
                            <!--已选择餐位列表-->
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title">
                                        已选择桌位
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <span class="label label-success"
                                          style="display: inline-block"
                                          ng-repeat="x in Branch.AreaDesk.list|filter:{selected:true}|orderBy:'order'">
                                        <small>{{x.number}}</small>
                                        <span class="glyphicon glyphicon-remove" ng-click="x.selected=false;"></span>
                                    </span>
                                </div>
                            </div>
                            <!--区域和餐位选择-->
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <!--TabHost: 区域导航-->
                                    <nav>
                                        <ul class="nav nav-tabs">
                                            <li class="nav-item" ng-repeat="x in Branch.Area.list|orderBy:'order'">
                                                <a role="tab" data-toggle="tab" data-target="#area{{$index}}">
                                                    {{x.name}}
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                                <div class="panel-collapse">
                                    <!--TabContent：桌位列表-->
                                    <div class="tab-content">
                                        <div class="tab-pane" role="tabpanel" id="area{{$index}}"
                                             ng-repeat="x in Branch.Area.list|orderBy:'order'">
                                            <!--桌位列表-->
                                            <ul class="list-group">
                                                <li class="list-group-item"
                                                    ng-repeat="y in Branch.AreaDesk.list|filter:{area_name:x.name,status:0}|orderBy:'order'"
                                                    ng-click="y.selected=!y.selected;">
                                                    <span class="badge" ng-class="{
                                                        0:'badge-success',
                                                        1:'badge-info',
                                                        2:'badge-error'
                                                    }[y.status]">{{y.status|desk_status}}</span>
                                                    <span ng-show="y.selected===true" class="badge bg-success">
                                                        已选<span class="glyphicon glyphicon-ok"></span>
                                                    </span>
                                                    <label class="text-center">{{y.number}}</label>
                                                    <label class="text-center small">{{y.min_guest_num}} ~ {{y.max_guest_num}}人</label>
                                                </li>
                                                <li class="list-group-item"
                                                    ng-if="(Branch.AreaDesk.list|filter:{area_name:x.name,status:0}).length===0">
                                                    <label class="label label-warning">该区域无空闲桌位</label>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--操作栏-->
                        <div class="panel-footer">
                            <label>短信提醒<input type="checkbox" ng-model="sms"/></label>
                            <input class="btn btn-primary btn-sm" type="button" ng-click="selectBanquet()" value="宴会类型">
                            <input class="btn btn-primary btn-sm" type="button" ng-click="selectPersonal()" value="私人订制">
                            <input class="btn btn-success btn-sm" type="button" ng-click="reserve()" value="预定"/>
                        </div>
                        <!--宴会类型和私人订制-->
                        <div class="panel-group" id="accordion">
                            <!--宴会类型-->
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne">
                                        宴会类型
                                    </div>
                                </div>
                                <div class="panel-collapse collapse" id="collapseOne">
                                    <div class="panel-body">
                                        <ul class="list-group">
                                            <li class="list-group-item">
                                                <small>已选择宴会类型：</small>
                                                <label class="label label-info">{{ReserveForm.banquet}}</label>
                                            </li>
                                            <li class="list-group-item" ng-repeat="(k, v) in Banquet">
                                                <small>{{k}}：</small>
                                                <span class="label label-success" style="display: inline-block"
                                                      ng-click="ReserveForm.banquet=y"
                                                      ng-repeat="y in v">
                                                    <small>{{y}}</small>
                                                    <span class="glyphicon glyphicon-ok"></span>
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!--私人订制列表-->
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo">
                                        私人订制
                                    </div>
                                </div>
                                <div class="panel-collapse collapse" id="collapseTwo">
                                    <div class="panel-body">
                                        <ul class="list-group">
                                            <li class="list-group-item">
                                                <small>私人订制：</small>
                                                <p>{{ReserveForm.staff_description}}</p>
                                            </li>
                                            <li class="list-group-item" ng-repeat="x in Branch.personal_tailor|orderBy:'order'">
                                                <small>{{x.name}}：</small>
                                                <span class="label label-success" style="display: inline-block"
                                                      ng-click="selectLabel(y)"
                                                      ng-repeat="y in x.labels">
                                                    <small>{{y}}</small>
                                                    <span class="glyphicon glyphicon-ok"></span>
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--电话/预约-->
                <div class="col-lg-4" style="height: 60%">
                    <div class="panel panel-default">
                        <!--TabHost-->
                        <div class="panel-heading">
                            <nav>
                                <ul class="nav nav-tabs">
                                    <li class="nav-item">
                                        <a role="tab" data-toggle="tab" data-target="#phone">电话</a>
                                    </li>
                                    <li class="nav-item active">
                                        <a role="tab" data-toggle="tab" data-target="#reserve">预定</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <div class="panel-collapse">
                            <!--TabContent-->
                            <div class="tab-content">
                                <!--来电-->
                                <div class="tab-pane" role="tabpanel" id="phone">
                                    <!--来电列表-->
                                    <!--<div class="container">-->
                                    <ul class="list-group">
                                        <li class="list-group-item" ng-repeat="x in Staff.PhoneList.list">
                                            <div class="row">
                                                <!--头像-->
                                                <div class="col-lg-3 col-sm-3">
                                                    <img class="img-responsive" src="/static/css/image/head1.jpg">
                                                    <span class="text-center">{{x.time}}</span>
                                                </div>
                                                <!--个人信息-->
                                                <div class="col-lg-6 col-sm-6">
                                                    <p>{{x.name|surname}} {{x.gender|gender}}</p>
                                                    <p>{{x.phone}} {{x.type}}</p>
                                                </div>
                                                <!--操作-->
                                                <div class="col-lg-3 col-sm-3">
                                                    <input class="btn btn-secondary btn-sm" type="button" ng-click="handlePhone($index)" value="处理"/>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <!--</div>-->
                                    <!--分页导航-->
                                    <nav aria-label="Page navigation">
                                        <ul class="pagination pagination-sm">
                                            <li>
                                                <a href="#" aria-label="Previous">
                                                    <span aria-hidden="true">&laquo;</span>
                                                </a>
                                            </li>
                                            <li ng-repeat="(k, v) in pages"><a href="#{{v}}">{{v}}</a></li>
                                            <li>
                                                <a href="#" aria-label="Next">
                                                    <span aria-hidden="true">&raquo;</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                                <!--预约-->
                                <div class="tab-pane active" role="tabpanel" id="reserve">
                                    <!--预约列表-->
                                    <ul class="list-group">
                                        <li class="list-group-item" ng-repeat="x in Staff.ReserveList.list">
                                            <!--<div class="container">-->
                                            <div class="row">
                                                <!--头像-->
                                                <div class="col-lg-3 col-sm-3">
                                                    <img class="img-responsive" src="/static/css/image/head1.jpg">
                                                    <span class="align-items-center">{{x.create_time|date:'MM/dd'}}</span>
                                                </div>
                                                <!--个人信息-->
                                                <div class="col-lg-6 col-sm-6">
                                                    <p>{{x.name}}</p>
                                                    <p>{{x.contact}} {{x.guest_type}}</p>
                                                </div>
                                                <!--操作-->
                                                <div class="col-lg-3 col-sm-3">
                                                    <input class="btn btn-secondary btn-sm" type="button" ng-click="handleReserve($index)" value="处理"/>
                                                </div>
                                            </div>
                                            <!--</div>-->
                                        </li>
                                    </ul>
                                    <!--分页导航-->
                                    <nav aria-label="Page navigation">
                                        <ul class="pagination pagination-sm">
                                            <li>
                                                <a href="#" aria-label="Previous">
                                                    <span aria-hidden="true">&laquo;</span>
                                                </a>
                                            </li>
                                            <li ng-repeat="(k, v) in pages"><a href="#{{v}}">{{v}}</a></li>
                                            <li>
                                                <a href="#" aria-label="Next">
                                                    <span aria-hidden="true">&raquo;</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--订单列表-->
                <div class="col-lg-4" style="height: 60%">
                    <div class="panel-group panel-primary">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <div class="panel-title">
                                    预订单查询
                                </div>
                            </div>
                            <div class="panel-collapse">
                                <div class="well well-sm form-inline">
                                    <input type="text" ng-model="SearchForm.keyword" placeholder="手机号筛选"/>
                                    <select ng-model="SearchForm.type" ng-change="search()">
                                        <optgroup label="筛选方式"></optgroup>
                                        <option ng-repeat="x in SortSelection" value=$index >by {{x}}</option>
                                    </select>
                                </div>
                                <!--提示信息-->
                                <div class="well well-sm">
                                    <span>晚餐 39桌</span>
                                    <span>周一 262人</span>
                                </div>
                                <!--订单列表-->
                                <ul class="list-group">
                                    <li class="list-group-item" ng-repeat="x in Staff.OrderList.list">
                                        <div class="container">
                                            <div class="row">
                                                <!--左侧信息-->
                                                <div class="col-4">
                                                    <h5>{{x.desk}} ({{x.people}}人)</h5>
                                                    <span>{{x.order_time|date:"hh:MM:ss"}}</span>
                                                </div>
                                                <!--右侧信息-->
                                                <div class="col-8">
                                                    <p><strong>{{x.name}}</strong> 先生</p>
                                                    <p>备注：桌号() {{x.status}}</p>
                                                </div>
                                                <!--操作栏-->
                                                <div class="col-lg-12 col-sm-12 p-2 bg-success">
                                                    <!--第一行-->
                                                    <div class="input-group">
                                                        <input type="button" value="撤单"/>
                                                        <div class="btn-group btn-group-sm">
                                                            <input type="button" value="换桌"/>
                                                            <input type="button" value="加桌"/>
                                                            <input type="button" value="修改"/>
                                                        </div>
                                                        <input type="button" value="关闭"/>
                                                    </div>
                                                    <!--第二行-->
                                                    <select>
                                                        <option ng-repeat="x in [1,2,3,4]">x</option>
                                                    </select>
                                                    <div class="input-group">
                                                        <input type="button" value="发路线"/>
                                                        <input type="button" value="发短信"/>
                                                        <input type="button" value="相关订单"/>
                                                        <input type="button" value="客户档案"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel-footer">
        -----我是有底线的-----
    </div>
</div>