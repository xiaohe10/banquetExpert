<!--主页/订单管理/操作日志-->
<!--操作栏-->
<div class="py-1 bg-info">
    <div class="p-2 bg-success">
        <div class="form-inline p-1">
            <input class="form-control form-control-sm" type="date" ng-model="option.date_from"/>
            ~
            <input class="form-control form-control-sm" type="date" ng-model="option.date_to"/>
            <select class="form-control form-control-sm" ng-model="option.staff">
                <option>全部操作员</option>
                <option ng-repeat="(k, v) in staff" value="{{v}}">{{v}}</option>
            </select>
            <select class="form-control form-control-sm" ng-model="option.select_area">
                <option>请选择区域</option>
                <option ng-repeat="x in area" value="{{x.value}}">{{x.name}}</option>
            </select>
            <select class="form-control form-control-sm" ng-model="option.select_seat">
                <option>请选择餐位</option>
                <option ng-repeat="x in seat" value="{{x.value}}">{{x.name}}</option>
            </select>
            <input class="form-control form-control-sm" type="text" ng-model="option.keyword" placeholder="输入姓名或手机号"/>
            <input class="btn btn-primary btn-sm mx-2" type="button" ng-click="search()" value="搜索"/>
        </div>
    </div>
</div>
<!--内容-->
<div class="py-2 px-2 mt-2 bg-info">
    <!--表格-->
    <div class="p-2 mb-2 bg-faded">
        <!--表格-->
        <table class="table table-hover table-bordered small">
            <thead class="bg-info">
            <tr id="center">
                <th align="center">操作时间</th>
                <th>操作人</th>
                <th>操作类型</th>
                <th>操作内容</th>
                <th>订单信息</th>
            </tr>
            </thead>
            <tbody>
            <tr align="center" ng-repeat="x in table">
                <td style="width:120px;">{{x.datetime}}</td>
                <td>{{x.operator}}</td>
                <td>{{x.operation}}</td>
                <td>{{x.content}}</td>
                <td>{{x.date}} {{x.meal_type}} {{x.time}} {{x.name }} {{x.gender}} {{x.phone}}</td>
            </tr>
            </tbody>
        </table>
        <!--分页导航-->
        <nav aria-label="Page navigation">
            <ul class="pagination pagination-sm">
                <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li class="active"><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">6</a></li>
                <li><a href="#">7</a></li>
                <li><a href="#">8</a></li>
                <li><a href="#">9</a></li>
                <li><a href="#">10</a></li>
                <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
<script>
    var TAG = Templates.Order.OperationLog;
    var data = [];
    for (var i = 0; i < 10; i++) {
        data.push({date: "", operator: "", operation_type: "", content: "", details: ""});
    }

    // TODO: 根据 起始日期 过滤操作日志
    $("#date-from").change(function () {
        Log.i(TAG, "根据 起始日期 过滤操作日志");
        data.filter(function (item) {
            return (item.date >= $(this).val());
        });
    });
    // TODO: 根据 截止日期 过滤操作日志
    $("#date-to").change(function () {
        Log.i(TAG, "根据 截止日期 过滤操作日志");
        data.filter(function (item) {
            return (item.date <= $(this).val());
        });
    });
    // TODO: 根据 操作员 过滤操作日志
    $("#staff").change(function () {
        Log.i(TAG, "根据 操作员 过滤操作日志");
        data.filter(function (item) {
            return (item.operator === $(this).val());
        });
    });
    // TODO: 根据 区域 过滤操作日志
    $("#area").change(function () {
        Log.i(TAG, "根据 区域 过滤操作日志");
    });
    // TODO: 根据 餐位 过滤操作日志
    $("#seat").change(function () {
        Log.i(TAG, "根据 餐位 过滤操作日志");
    });
    // TODO: 搜索 关键字
    $("#search").click(function () {
        Log.i(TAG, "搜索 关键字");
    });
</script>