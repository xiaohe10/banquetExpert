<!--主页/订单管理/来电记录-->
<!--操作栏-->
<div class="py-1 bg-info">
    <div class="p-2 bg-success">
        <div class="form-inline p-1" id="option">
        </div>
    </div>
</div>
<!--内容-->
<div class="py-2 px-2 mt-2 bg-info">
    <!--表格-->
    <div class="p-2 mb-2 bg-faded">
        <table class="table table-hover table-bordered small">
            <thead class="bg-info">
            <tr align="middle">
                <td>日期</td>
                <td>时间</td>
                <td>来电</td>
                <td>姓名</td>
                <td>状态</td>
            </tr>
            </thead>
            <tbody id="table">

            </tbody>
        </table>
    </div>
    <!--分页导航-->
    <div class="row m-2">
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">«</span>
                    </a>
                </li>
                <li><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">6</a></li>
                <li><a href="#">7</a></li>
                <li><a href="#">8</a></li>
                <li><a href="#">9</a></li>
                <li><a href="#">10</a></li>
                <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">»</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
<!--操作栏模板-->
<script id="OptionTemplate" type="text/plain">
    <form>
        <!--查询-->
        <div class="form-inline p-1">
            <a>选择日期区间：</a>
            <input class="form-control form-control-sm" type="date" id="date_from" data-link="date_from"/>
            ~
            <input class="form-control form-control-sm" type="date" id="date_to" data-link="date_to"/>
            <input class="form-control form-control-sm" type="text" id="keyword" data-link="keyword" placeholder="输入姓名或手机号"/>
            <input class="btn btn-sm btn-primary ml-1 mr-2" type="button" id="query" value="查询"/>
        </div>
    </form>
</script>
<!--表格模板-->
<script id="TableTemplate" type="text/plain">
    {{for table}}
        <tr align="center">
            <td>{{:date}}</td>
            <td>{{:time}}</td>
            <td>{{:phone}}</td>
            <td>{{:name}}</td>
            <td>{{:status}}</td>
        </tr>
    {{/for }}
</script>
<script>
    var TAG = "#/Order/PhoneReserve";
    var option = {
        date_from: "",
        date_to: "",
        keyword: ""
    };

    var data = {
        table: []
    };

    for (var i = 0; i < 16; i++) {
        data.table.push({date: "2017-06-13", time: "14:24:15", phone: "100 0000 0000", name: "凌乱了", status: "未处理"});
    }
    $.templates("#OptionTemplate").link("#option", option);
    $.templates("#TableTemplate").link("#table", data);

    $("#date_from").change(function () {
        // TODO: 根据起始日期筛选数据
        Log.i(TAG, "根据起始日期筛选数据：" + option.date_from);
    });
    $("#date_to").change(function () {
        // TODO: 根据结束日期筛选数据
        Log.i(TAG, "根据结束日期筛选数据：" + option.date_to);
    });
    $("#keyword").change(function () {
        // TODO: 根据关键字查找数据
        Log.i(TAG, "根据关键字查找数据：" + option.keyword);
    });
    $("#query").click(function () {
        // TODO: 根据日期和关键字查找数据
        Log.i(TAG, JSON.stringify(option));
    });
</script>