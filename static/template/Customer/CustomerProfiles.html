<!--主页/客户管理/客户档案列表-->
<div class="panel panel-default">
    <div class="panel-heading">
        <div class="panel-title">
            客户档案列表
        </div>
    </div>
    <div class="panel-body">
        <!--操作栏-->
        <div class="well well-sm form-inline">
            <!--员工端无此项-->
            <div ng-hide="from==='staff'" class="input-group">
                选择渠道
                <select class="form-control form-control-sm" ng-model="option.selected_channel">
                    <option value="-1">全部接单渠道</option>
                    <optgroup label="内部渠道"></optgroup>
                    <option ng-repeat="x in channel.inner" value="{{x.value}}">{{x.name}}</option>
                    <optgroup label="外部渠道"></optgroup>
                    <option ng-repeat="x in channel.outer" value="{{x.value}}">{{x.name}}</option>
                </select>
            </div>
            <input class="form-control form-control-sm" type="text" ng-model="option.keyword" placeholder="输入姓名或手机号"/>
            <input class="btn btn-primary btn-sm mx-2" type="button" ng-click="query()" value="查询">
            <input class="btn btn-sm mx-2" type="button" value="高级筛选+导出" ng-click="profiles_export()"/>
            <input class="btn btn-sm mx-2" type="button" value="+添加档案" ng-click="profiles_add()"/>
            <input class="btn btn-sm mx-2" type="button" value="批量导入" ng-click="profiles_import()"/>
            <input class="btn btn-sm mx-2" type="button" ng-click="member()" value="会员价值设置"/>
        </div>
        <!--导航栏-->
        <div class="well well-sm">
            <ul class="nav nav-tabs">
                <li ng-repeat="(k,v) in status"><a ng-click="filter($index)">{{v}}</a></li>
            </ul>
        </div>
        <!--详细信息-->
        <div class="well well-sm form-inline">
            <label for="we_chat">
                <input class="form-check mx-1" type="checkbox" ng-model="option.we_chat" id="we_chat"/>绑定微信
            </label>
            <label for="no_phone_number">
                <input class="form-check mx-1" type="checkbox" ng-model="option.no_phone_number" id="no_phone_number"/>非手机号码
            </label>
            <label for="no_marketing">
                <input class="form-check mx-1" type="checkbox" ng-model="option.no_marketing" id="no_marketing"/>不接受营销
            </label>
            <label for="to_type">
                全部客户共{{data.count}}条记录，已经选择{{detail.selected_count}} / {{data.count}} | 移动到
                <select class="form-control form-control-sm" ng-model="option.to_type" id="to_type">
                    <option ng-repeat="(k, v) in status" value="{{$index}}">{{v}}</option>
                </select>
            </label>
            <input class="btn btn-primary btn-sm" type="button" ng-click="move()" value="移动"/>
        </div>
        <!--表格-->
        <table class="table table-bordered table-hover table-responsive small">
            <thead>
            <tr>
                <th><label><input type="checkbox" ng-click="select_all()" ng-model="option.select_all">全选</label></th>
                <th>电话</th>
                <th>姓名</th>
                <th>性别</th>
                <th>生日</th>
                <th>生日类型</th>
                <th>顾客类别</th>
                <th>喜好</th>
                <th>忌讳</th>
                <th>纪念日</th>
                <th>个性化需求</th>
                <th>客户状态</th>
                <th>消费总桌数</th>
                <th>人均消费</th>
                <th>消费频度</th>
                <th>上次消费日期</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="x in data.list">
                <td>
                    <label>
                        <input type="checkbox" ng-model="x.selected" ng-click="select()" value="{{x.selected}}">{{x.guest_id}}
                    </label>
                </td>
                <td>{{x.phone}}</td>
                <td>{{x.name}}</td>
                <td>{{x.gender|gender}}</td>
                <td>{{x.birthday|date:"yyyy/MM/dd"}}</td>
                <td>{{x.birthday_type|birthday_type}}</td>
                <td>{{x.guest_type}}</td>
                <td>{{x.like}}</td>
                <td>{{x.dislike}}</td>
                <td>{{x.special_day}}</td>
                <td>{{x.personal_need}}</td>
                <td>{{x.status|status}}</td>
                <td>{{x.desk_number}} 桌</td>
                <td>{{x.person_consumption}} 元/单</td>
                <td>{{x.desk_per_month}} 桌/月</td>
                <td>{{x.last_consumption|date:"yyyy/MM/dd"}}</td>
                <td><a ng-click="edit(x)">编辑</a></td>
            </tr>
            </tbody>
        </table>
        <!--分页导航-->
        <nav aria-label="Page navigation">
            <ul class="pagination pagination-sm">
                <li>
                    <a href="#" aria-label="First">
                        <span aria-hidden="true">第一页</span>
                    </a>
                </li>
                <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">上一页</span>
                    </a>
                </li>
                <li><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">6</a></li>
                <li><a href="#">7</a></li>
                <li><a href="#">8</a></li>
                <li><a href="#">9</a></li>
                <li><a href="#">10</a></li>
                <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">下一页</span>
                    </a>
                </li>
                <li>
                    <a href="#" aria-label="Last">
                        <span aria-hidden="true">最后一页</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="panel-footer">
        This is footer
    </div>
</div>