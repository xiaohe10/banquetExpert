<!--主页/预订管理/餐位设置-->
<!--操作栏-->
<div class="py-1 bg-info">
    <div class="p-2 bg-success">
        <a>>全部桌位，共7个</a>
        <input class="btn btn-sm btn-secondary ml-1 mr-2" type="button" id="sync-area" value="同步区域列表"/>
        <input class="btn btn-sm btn-secondary ml-1 mr-2" type="button" id="add-area" value="新增区域"/>
        <input class="btn btn-sm btn-primary ml-1 mr-2" type="button" id="save" value="保存"/>
    </div>
</div>
<!--表格-->
<div class="py-2 px-2 bg-info">
    <form class="form-group">
        <table class="table table-bordered table-hover">
            <thead class="bg-info">
            <tr>
                <td>状态</td>
                <td>餐厅区域</td>
                <td>排序</td>
                <td>操作</td>
            </tr>
            </thead>
            <tbody class="align-content-center" id="area-info-table">

            </tbody>
        </table>
    </form>
</div>
<script id="area_row" type="text/x-jsrender">
{^{for }}
    <tr class="table-info">
        <td>应用</td>
        <td><input type="text" data-link="name" name="name"/></td>
        <td><input type="text" data-link="order" name="order"/></td>
        <td>
            <a href="#/SetSeat/{{:value}}">桌位设置</a>
            <label for="status">
                <input type="checkbox" id="status" data-link="status" />启用
            </label>
        </td>
    </tr>
{{/for }}
</script>
<script>
    // 绑定模板
    $.templates("#area_row").link("#area-info-table", BanquetExpert.area);

    // 事件处理
    $("#sync-area").click(function () {
        /***
         * TODO:同步区域列表
         */
    });
    $("#add-area").click(function () {
        $.observable(BanquetExpert.area).insert({value: 0, name: '区域名', order: 0, status: 1, seat: []});
    });
    $("#save").click(function () {
        $.observable(BanquetExpert.area).remove();
    });

    // 路由设置
    routes = {
        "/SetSeat/:seat_id": function (seat_id) {
            alert("设置桌位：" + seat_id);
        }
    };

    var router = window.Router(routes);
    router.init();
</script>